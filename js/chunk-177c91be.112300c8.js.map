{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./src/views/frontend/Favourite.vue?ed4d","webpack:///src/views/frontend/Favourite.vue","webpack:///./src/views/frontend/Favourite.vue?7250","webpack:///./src/views/frontend/Favourite.vue","webpack:///./node_modules/core-js/modules/_string-context.js"],"names":["$export","context","INCLUDES","P","F","includes","searchString","this","indexOf","arguments","length","undefined","MATCH","module","exports","KEY","re","e","f","$includes","el","isObject","cof","it","isRegExp","render","_vm","_h","$createElement","_c","_self","attrs","isLoading","on","$event","staticClass","path","_v","class","zerofavourite","_l","product","key","id","imageUrl","heartStyle","favourite","addFavourite","addCart","name","params","productId","_s","title","_f","origin_price","price","products","cartsNumber","staticRenderFns","data","cartProductID","cartID","quantityValue","favouriteProducts","components","Carticon","ProductSwiper","computed","methods","getCarts","$http","get","api","then","vm","splice","response","carts","forEach","qty","push","product_id","getProducts","getFavourite","JSON","parse","localStorage","getItem","$set","item","FavouriteProduct","sameID","newQty","parseInt","post","removeProduct","alertDisplay","delete","add","setItem","stringify","filter","$dlg","toast","message","messageType","closeTime","position","language","created","mounted","component","defined","that","NAME","TypeError","String"],"mappings":"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","file":"js/chunk-177c91be.112300c8.js","sourcesContent":["// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}},[_c('div',{staticClass:\"loadingio-spinner-spin-5xz8vi7q1c2\"},[_c('div',{staticClass:\"ldio-2zmxuno6hnw\"},[_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')]),_c('div',[_c('div')])])])]),_c('div',{staticClass:\"container-100  container my-4\"},[_c('div',{staticClass:\"row bg-Favourite container-75\"},[_c('nav',{staticClass:\"col-12\",attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb\"},[_c('li',{staticClass:\"breadcrumb-item\"},[_c('router-link',{attrs:{\"to\":{ path: 'index' }}},[_vm._v(\"\\n              Home\\n            \")])],1),_c('li',{staticClass:\"breadcrumb-item active\",attrs:{\"aria-current\":\"page\"}},[_vm._v(\"Favourite\")])])]),_c('div',{staticClass:\"col text-center pb-5\",class:{ 'd-none': _vm.zerofavourite }},[_c('p',{staticClass:\"h4 mb-5 text-c1\"},[_vm._v(\"目前我的最愛沒有任何商品\")]),_c('div',{staticClass:\"text-center\"},[_c('router-link',{attrs:{\"to\":{ path: 'products' }}},[_c('button',{staticClass:\"btn new-btn new-btn-favourite\"},[_vm._v(\"採購去~~\")])])],1)]),_vm._l((_vm.favouriteProducts),function(product){return _c('div',{key:product.id,staticClass:\"col-lg-4 col-md-6 mb-4 mb-0\"},[_c('div',{staticClass:\"position-relative product\"},[_c('img',{staticClass:\"img-size pointer\",attrs:{\"src\":product.imageUrl,\"alt\":\"\"}}),_c('div',{staticClass:\"position-absolute\\n                      product-icon d-flex flex-column justify-content-center align-items-center\"},[_c('p',{staticClass:\"pointer\",class:{ heartStyle: product.favourite },on:{\"click\":function($event){return _vm.addFavourite(product.id)}}},[_vm._v(\"\\n              加入最愛 \"),_c('i',{staticClass:\"far fa-heart\"})]),_c('p',{staticClass:\"pointer\",on:{\"click\":function($event){return _vm.addCart(product.id)}}},[_vm._v(\"\\n              加入購物車 \"),_c('i',{staticClass:\"fas fa-shopping-cart\"})])]),_c('router-link',{staticClass:\"product-item p-2 d-block\",attrs:{\"to\":{ name: 'ProductDetail', params: { productId: product.id } }}},[_c('p',{staticClass:\"py-2 h7 product-name\"},[_vm._v(_vm._s(product.title))]),_c('div',{staticClass:\"cost d-flex justify-content-between align-items-center mb-2\"},[_c('p',{staticClass:\"text-line-through h9 m-0\"},[_vm._v(\"原價\"+_vm._s(_vm._f(\"currency\")(product.origin_price)))]),_c('div',{staticClass:\"d-flex\"},[_c('p',{staticClass:\"text-success h9 badges-boder-success mr-1 mb-0\"},[_vm._v(\"可超商取\")]),_c('p',{staticClass:\"text-danger h9 badges-boder-danger mb-0\"},[_vm._v(\"不甜退差價\")])])]),_c('div',{staticClass:\"d-flex justify-content-between align-items-center\"},[_c('p',{staticClass:\"h5 text-c4\"},[_vm._v(\"特價\"+_vm._s(_vm._f(\"currency\")(product.price)))]),_c('a',{staticClass:\"h9 m-0\",attrs:{\"href\":\"#\"}},[_vm._v(\"查看更多\\n                \"),_c('i',{staticClass:\"far fa-hand-point-up\"})])])])],1)])}),_c('div',{staticClass:\"col-12\"},[_c('ProductSwiper',{staticClass:\"mb-3\",attrs:{\"products\":_vm.products}})],1)],2)]),_c('Carticon',{attrs:{\"carts\":_vm.cartsNumber}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\">\r\n      <div class=\"loadingio-spinner-spin-5xz8vi7q1c2\">\r\n        <div class=\"ldio-2zmxuno6hnw\">\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n          <div><div></div></div>\r\n        </div>\r\n      </div>\r\n    </loading>\r\n\r\n    <div class=\"container-100  container my-4\">\r\n      <div class=\"row bg-Favourite container-75\">\r\n        <nav aria-label=\"breadcrumb\" class=\"col-12\">\r\n          <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\">\r\n               <router-link :to=\"{ path: 'index' }\">\r\n                Home\r\n              </router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item active\" aria-current=\"page\">Favourite</li>\r\n          </ol>\r\n        </nav>\r\n        <div class=\"col text-center pb-5\" :class=\"{ 'd-none': zerofavourite }\">\r\n          <p class=\"h4 mb-5 text-c1\">目前我的最愛沒有任何商品</p>\r\n          <div class=\"text-center\">\r\n             <router-link :to=\"{ path: 'products' }\">\r\n              <button class=\"btn new-btn new-btn-favourite\">採購去~~</button>\r\n            </router-link>\r\n          </div>\r\n\r\n        </div>\r\n        <div class=\"col-lg-4 col-md-6 mb-4 mb-0\"\r\n        v-for=\"product in favouriteProducts\" :key=\"product.id\">\r\n          <div class=\"position-relative product\">\r\n            <img class=\"img-size pointer\" :src=\"product.imageUrl\" alt=\"\" />\r\n            <div\r\n              class=\"position-absolute\r\n                        product-icon d-flex flex-column justify-content-center align-items-center\"\r\n            >\r\n              <p\r\n                class=\"pointer\"\r\n                :class=\"{ heartStyle: product.favourite }\"\r\n                @click=\"addFavourite(product.id)\"\r\n              >\r\n                加入最愛 <i class=\"far fa-heart\"></i>\r\n              </p>\r\n              <p class=\"pointer\" @click=\"addCart(product.id)\">\r\n                加入購物車 <i class=\"fas fa-shopping-cart\"></i>\r\n              </p>\r\n            </div>\r\n            <router-link\r\n              class=\"product-item p-2 d-block\"\r\n              :to=\"{ name: 'ProductDetail', params: { productId: product.id } }\"\r\n            >\r\n              <p class=\"py-2 h7 product-name\">{{ product.title }}</p>\r\n              <div class=\"cost d-flex justify-content-between align-items-center mb-2\">\r\n                <p class=\"text-line-through h9 m-0\">原價{{ product.origin_price | currency }}</p>\r\n                <div class=\"d-flex\">\r\n                  <p class=\"text-success h9 badges-boder-success mr-1 mb-0\">可超商取</p>\r\n                  <p class=\"text-danger h9 badges-boder-danger mb-0\">不甜退差價</p>\r\n                </div>\r\n              </div>\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n                <p class=\"h5 text-c4\">特價{{ product.price | currency }}</p>\r\n                <a href=\"#\" class=\"h9 m-0\"\r\n                  >查看更多\r\n                  <i class=\"far fa-hand-point-up\"></i>\r\n                </a>\r\n              </div>\r\n            </router-link>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12\">\r\n         <ProductSwiper class=\"mb-3\" :products=\"products\"></ProductSwiper>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <Carticon :carts=\"cartsNumber\"></Carticon>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Carticon from '../../components/frontend/carticon.vue';\r\nimport ProductSwiper from '../../components/frontend/ProductSwiper.vue';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      cartsNumber: 0,\r\n      products: [],\r\n      isLoading: false,\r\n      cartProductID: [], // 商品ID固定\r\n      cartID: [], // 下單商品ID不是唯一,內有qty\r\n      quantityValue: 1,\r\n      favourite: [],\r\n      favouriteProducts: [],\r\n      zerofavourite: true,\r\n    };\r\n  },\r\n  components: {\r\n    Carticon,\r\n    ProductSwiper,\r\n  },\r\n  computed: {},\r\n  methods: {\r\n    getCarts() {\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\r\n      const vm = this;\r\n      this.$http.get(api).then((response) => {\r\n        this.cartsNumber = response.data.data.carts.length;\r\n        vm.cartProductID.splice(0);\r\n        vm.cartID.splice(0);\r\n        response.data.data.carts.forEach((product) => {\r\n          const data = {\r\n            id: product.id,\r\n            qty: product.qty,\r\n          };\r\n          vm.cartID.push(data);\r\n          vm.cartProductID.push(product.product_id);\r\n        });\r\n      });\r\n    },\r\n    getProducts() {\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/products/all`;\r\n      this.isLoading = true;\r\n      this.$http.get(api).then((response) => {\r\n        this.products = response.data.products;\r\n        this.getFavourite();\r\n      });\r\n    },\r\n    getFavourite() {\r\n      this.favourite = JSON.parse(localStorage.getItem('Favourite')) || [];\r\n      const vm = this;\r\n      this.products.forEach((item) => {\r\n        vm.$set(item, 'favourite', false);\r\n        const favourite = vm.favourite.includes(item.id);\r\n        if (favourite) {\r\n          vm.$set(item, 'favourite', true);\r\n        }\r\n        vm.isLoading = false;\r\n      });\r\n      if (this.favourite.length === 0) {\r\n        this.zerofavourite = false;\r\n      }\r\n      this.FavouriteProduct();\r\n    },\r\n    addCart(id) {\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart`;\r\n      let newQty = parseInt(this.quantityValue, 10);\r\n      const vm = this;\r\n      const sameID = this.cartProductID.indexOf(id);\r\n      vm.isLoading = true;\r\n      if (sameID >= 0) {\r\n        newQty += parseInt(vm.cartID[sameID].qty, 10);\r\n      }\r\n      const addproduct = {\r\n        product_id: id,\r\n        qty: newQty,\r\n      };\r\n      this.$http.post(api, { data: addproduct }).then(() => {\r\n        if (sameID >= 0) {\r\n          vm.removeProduct(vm.cartID[sameID].id);\r\n        } else {\r\n          vm.getCarts();\r\n        }\r\n        vm.quantityValue = 1;\r\n        vm.alertDisplay('已加入購屋車', 'info');\r\n        vm.isLoading = false;\r\n      });\r\n    },\r\n    removeProduct(id) {\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/${id}`;\r\n      const vm = this;\r\n      this.$http.delete(api).then(() => {\r\n        vm.getCarts();\r\n      });\r\n    },\r\n    addFavourite(id) {\r\n      const add = this.favourite.indexOf(id);\r\n      if (add > -1) {\r\n        this.favourite.splice(add, 1);\r\n        this.alertDisplay('已移除我的最愛', 'warning');\r\n      } else {\r\n        this.favourite.push(id);\r\n        this.alertDisplay('已加入我的最愛', 'info');\r\n      }\r\n      localStorage.setItem('Favourite', JSON.stringify(this.favourite));\r\n\r\n      this.getFavourite();\r\n    },\r\n    FavouriteProduct() {\r\n      this.favouriteProducts = this.products.filter((item) => {\r\n        if (item.favourite === true) {\r\n          return item;\r\n        }\r\n        return null;\r\n      });\r\n    },\r\n    alertDisplay(text, type) {\r\n      const message = text;\r\n      const messageType = type;\r\n      this.$dlg.toast(message, {\r\n        messageType,\r\n        closeTime: 2,\r\n        position: 'topCenter',\r\n        language: 'en',\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.getCarts();\r\n    this.getProducts();\r\n  },\r\n  mounted() {},\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favourite.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Favourite.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Favourite.vue?vue&type=template&id=7ce73e5a&scoped=true&\"\nimport script from \"./Favourite.vue?vue&type=script&lang=js&\"\nexport * from \"./Favourite.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ce73e5a\",\n  null\n  \n)\n\nexport default component.exports","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n"],"sourceRoot":""}