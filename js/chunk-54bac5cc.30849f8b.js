(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54bac5cc"],{"6c8e":function(t,a,i){"use strict";var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("div",{staticClass:"cart-icon position-fixed"},[i("p",{staticClass:"pointer h1 mb-4"},[i("i",{staticClass:"fas fa-arrow-circle-up hide",on:{click:function(a){return t.Top()}}})]),i("p",{staticClass:"pointer h5"},[i("router-link",{attrs:{to:{path:"/shoppingcart"}}},[i("i",{staticClass:"fas fa-shopping-cart text-c1 pl-1 position-relative shopping-cart"},[i("span",{staticClass:"position-absolute h8 circle text-light"},[t._v("\n            "+t._s(t.carts)+"\n          ")])])])],1)])])},e=[],c={data:function(){return{changebar:!1}},props:["carts"],components:{},methods:{Top:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},addhide:function(){var t=document.querySelector(".cart-icon"),a=document.querySelector(".fa-arrow-circle-up");window.pageYOffset>t.offsetTop/2?a.classList.remove("hide"):a.classList.add("hide")}},created:function(){},mounted:function(){window.addEventListener("scroll",this.addhide)},beforeDestroy:function(){window.removeEventListener("scroll",this.addhide)}},o=c,n=i("2877"),r=Object(n["a"])(o,s,e,!1,null,"edc8be46",null);a["a"]=r.exports},b36b:function(t,a,i){"use strict";i.r(a);var s=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}},[i("div",{staticClass:"loadingio-spinner-spin-5xz8vi7q1c2"},[i("div",{staticClass:"ldio-2zmxuno6hnw"},[i("div",[i("div")]),i("div",[i("div")]),i("div",[i("div")]),i("div",[i("div")]),i("div",[i("div")]),i("div",[i("div")]),i("div",[i("div")]),i("div",[i("div")])])])]),i("div",{staticClass:"container my-4"},[i("div",{staticClass:"position-fixed zoom-img",class:{"d-none":!t.openImg},on:{click:function(a){return t.zoomImg()}}},[i("img",{staticClass:"img-size-1 big-size",attrs:{src:t.product.imageUrl,alt:""}})]),i("div",{staticClass:"row justify-content-center bg-product"},[i("nav",{staticClass:"col-12",attrs:{"aria-label":"breadcrumb"}},[i("ol",{staticClass:"breadcrumb"},[i("li",{staticClass:"breadcrumb-item"},[i("router-link",{attrs:{to:{name:"Index"}}},[t._v("\n              Home\n            ")])],1),i("li",{staticClass:"breadcrumb-item"},[i("router-link",{attrs:{to:{name:"Products"}}},[t._v("\n              Products\n            ")])],1),i("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])]),i("div",{staticClass:"col-md-5"},[i("img",{staticClass:"img-size-1 zoom",attrs:{src:t.product.imageUrl,alt:""},on:{click:function(a){return t.zoomImg()}}})]),i("div",{staticClass:"col-md-6 mb-5"},[i("div",{staticClass:"product-one-title d-flex justify-content-between mb-3 mt-3 mt-md-0"},[i("h2",{staticClass:"h1"},[t._v(t._s(t.product.title))]),i("p",{staticClass:"m-0 text-secondary",on:{click:function(a){return t.addFavourite()}}},[i("i",{staticClass:"far fa-heart h1 pointer",class:{favouriteStyle:t.product.favourite}})])]),i("table",{staticClass:"product-table"},[i("tr",[i("td",{staticClass:"h7",attrs:{width:"150"}},[t._v("特價")]),i("td",{staticClass:"text-c4 h3"},[t._v(t._s(t._f("currency")(t.product.price||0)))])]),i("tr",[i("td",{staticClass:"h7",attrs:{width:"150"}},[t._v("數量")]),i("td",[i("div",{staticClass:"d-flex"},[i("button",{staticClass:"count",on:{click:function(a){return t.quantity("minus")}}},[i("i",{staticClass:"fas fa-minus"})]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.quantityValue,expression:"quantityValue"}],staticClass:"qtyInput__1dbgq ",attrs:{type:"number",min:"1",max:"200",name:"quantity"},domProps:{value:t.quantityValue},on:{change:function(a){return t.inputQuanproduct(t.product)},input:function(a){a.target.composing||(t.quantityValue=a.target.value)}}}),i("button",{staticClass:"count",on:{click:function(a){return t.quantity("plus")}}},[i("i",{staticClass:"fas fa-plus"})])])])]),t._m(0),t._m(1)]),i("div",{staticClass:"text-right"},[i("button",{staticClass:"btn new-btn new-btn-cart",on:{click:function(a){return t.addCart(t.product.id)}}},[t._v("\n            加入購物車\n          ")])])]),i("div",{staticClass:"col-md-11 mb-5"},[i("hr"),i("div",{staticClass:"row justify-content-center"},[i("div",{staticClass:"col-lg-9"},[i("h2",{staticClass:"text-c1 text-center mb-3"},[t._v("產地："+t._s(t.product.description))]),i("h2",{staticClass:"text-c1 text-center"},[t._v("水果介紹")]),i("p",{staticClass:"text-c4 h7 font-space"},[t._v(t._s(t.product.content))])])])])])]),i("Carticon",{attrs:{carts:t.cartsNumber}})],1)},e=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("tr",[i("td",{staticClass:"h7",attrs:{width:"150"}},[t._v("付款方式")]),i("td",{staticClass:"text-c5"},[i("i",{staticClass:"fas fa-dollar-sign mr-2",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"現金"}}),i("i",{staticClass:"fab fa-cc-apple-pay h7 mr-2",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Apple Pay"}}),i("i",{staticClass:"fab fa-cc-visa h7",attrs:{"data-toggle":"tooltip","data-placement":"top",title:"Visa"}})])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("tr",[i("td",{staticClass:"h7",attrs:{width:"150"}},[t._v("運費")]),i("td",[i("p",{staticClass:"mb-2"},[t._v("宅配/貨運 — 免運費需5個工作天")]),i("p",{staticClass:"m-0"},[t._v("面交/自取/不寄送 — 免運費")])])])}],c=(i("ac6a"),i("6c8e")),o={data:function(){return{isLoading:!1,cartsNumber:0,cartProductID:[],cartID:[],quantityValue:1,favourite:[],openImg:!1,product:[],productID:""}},components:{Carticon:c["a"]},computed:{},methods:{getCarts:function(){var t=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("chi","/cart"),i=this;this.$http.get(a).then((function(a){t.cartsNumber=a.data.data.carts.length,i.cartProductID.splice(0),i.cartID.splice(0),a.data.data.carts.forEach((function(t){var a={id:t.id,qty:t.qty};i.cartID.push(a),i.cartProductID.push(t.product_id)})),i.isLoading=!1}))},getProduct:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("chi","/product/").concat(this.productID),a=this;a.isLoading=!0,this.$http.get(t).then((function(t){a.product=t.data.product,a.getFavourite()}))},getFavourite:function(){this.favourite=JSON.parse(localStorage.getItem("Favourite"))||[];var t=this;t.$set(t.product,"favourite",!1),this.favourite.forEach((function(a){a===t.product.id&&t.$set(t.product,"favourite",!0)}))},addCart:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("chi","/cart"),i=parseInt(this.quantityValue,10),s=this;s.isLoading=!0;var e=this.cartProductID.indexOf(t);e>=0&&(i+=parseInt(s.cartID[e].qty,10));var c={product_id:t,qty:i};this.$http.post(a,{data:c}).then((function(t){e>=0?s.removeProduct(s.cartID[e].id):s.getCarts(),s.quantityValue=1,s.alertDisplay("已加入購物車","info")}))},addFavourite:function(){var t=this.favourite.indexOf(this.product.id);t>-1?(this.favourite.splice(t,1),this.alertDisplay("已移除我的最愛","warning")):(this.favourite.push(this.product.id),this.alertDisplay("已加入我的最愛","info")),localStorage.setItem("Favourite",JSON.stringify(this.favourite)),this.getFavourite()},removeProduct:function(t){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("chi","/cart/").concat(t),i=this;this.$http.delete(a).then((function(t){i.getCarts()}))},quantity:function(t){this.quantityValue=parseInt(this.quantityValue,10),"plus"===t?this.quantityValue+=1:this.quantityValue>1&&(this.quantityValue-=1)},inputQuanproduct:function(t){(this.quantityValue<=0||!this.quantityValue)&&(this.quantityValue=1)},zoomImg:function(){this.openImg=!this.openImg,document.querySelector("body").classList.toggle("hideScroll")},Top:function(){window.scrollTo({top:0,left:0})},alertDisplay:function(t,a){var i=t,s=a;this.$dlg.toast(i,{messageType:s,closeTime:2,position:"topCenter",language:"en"})}},created:function(){this.Top(),this.getCarts(),this.productID=this.$route.params.productId,this.getProduct()},mounted:function(){}};$((function(){$('[data-toggle="tooltip"]').tooltip()}));var n=o,r=i("2877"),u=Object(r["a"])(n,s,e,!1,null,"69d7e1be",null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-54bac5cc.30849f8b.js.map