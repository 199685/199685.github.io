(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-617b4c02"],{1308:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[a("div",{staticClass:"loadingio-spinner-spin-5xz8vi7q1c2"},[a("div",{staticClass:"ldio-2zmxuno6hnw"},[a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")]),a("div",[a("div")])])])]),a("div",{staticClass:"container-100 container my-4"},[a("div",{staticClass:"row bg-product justify-content-center"},[a("nav",{staticClass:"col-12 mb-3",attrs:{"aria-label":"breadcrumb"}},[a("ol",{staticClass:"breadcrumb"},[a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:{name:"Index"}}},[t._v("\n              Home\n            ")])],1),a("li",{staticClass:"breadcrumb-item"},[a("router-link",{attrs:{to:{path:"shoppingcart"}}},[t._v("\n              Shopping Cart\n            ")])],1),a("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Checkout")])])]),a("div",{staticClass:"col-md-10 container-75"},[t._m(0),t._m(1),a("validation-observer",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[a("form",{staticClass:"needs-validation order-from",attrs:{novalidate:""},on:{submit:function(e){return e.preventDefault(),t.createOrder()}}},[a("div",{staticClass:"form-row"},[a("validation-provider",{staticClass:"col-md-6 mb-4",attrs:{rules:{regex:/^([^0-9]*)$/}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.classes;return[a("label",{attrs:{for:"姓名"}},[t._v("姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderData.user.name,expression:"orderData.user.name"}],staticClass:"form-control",class:i,attrs:{type:"text",id:"姓名",placeholder:"請輸入姓名",required:""},domProps:{value:t.orderData.user.name},on:{input:function(e){e.target.composing||t.$set(t.orderData.user,"name",e.target.value)}}}),a("span",{staticClass:"invalid-feedback position-absolute"},[t._v(t._s(s[0]))])]}}],null,!0)}),a("validation-provider",{staticClass:"col-md-6 mb-3",attrs:{rules:{regex:/^[0-9]{10}$/g}},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.classes;return[a("label",{attrs:{for:"手機號碼"}},[t._v("手機號碼")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderData.user.tel,expression:"orderData.user.tel"}],staticClass:"form-control",class:i,attrs:{type:"tel",id:"手機號碼",placeholder:"請輸入手機號碼",required:""},domProps:{value:t.orderData.user.tel},on:{input:function(e){e.target.composing||t.$set(t.orderData.user,"tel",e.target.value)}}}),a("span",{staticClass:"invalid-feedback position-absolute"},[t._v(t._s(s[0]))])]}}],null,!0)})],1),a("div",{staticClass:"form-row"},[a("validation-provider",{staticClass:"col-md-6 mb-4",attrs:{rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.classes;return[a("label",{attrs:{for:"Email"}},[t._v("Email")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderData.user.email,expression:"orderData.user.email"}],staticClass:"form-control",class:i,attrs:{type:"email",id:"Email",placeholder:" 請輸入Email",required:""},domProps:{value:t.orderData.user.email},on:{input:function(e){e.target.composing||t.$set(t.orderData.user,"email",e.target.value)}}}),a("span",{staticClass:"invalid-feedback position-absolute"},[t._v(t._s(s[0]))])]}}],null,!0)}),a("validation-provider",{staticClass:"col-md-6 mb-3",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.errors,i=e.classes;return[a("label",{attrs:{for:"付款方式"}},[t._v("付款方式")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.orderData.user.paymethod,expression:"orderData.user.paymethod"}],staticClass:"form-control",class:i,attrs:{id:"付款方式",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.orderData.user,"paymethod",e.target.multiple?a:a[0])}}},[a("option",{attrs:{selected:"",disabled:"",value:""}},[t._v("請選擇付款方式")]),a("option",{attrs:{value:"貨到付款"}},[t._v("貨到付款")]),a("option",{attrs:{value:"超商付款"}},[t._v("超商付款")]),a("option",{attrs:{value:"ATM付款"}},[t._v("ATM付款")])]),a("span",{staticClass:"invalid-feedback position-absolute"},[t._v(t._s(s[0]))])]}}],null,!0)}),a("validation-provider",{staticClass:"col mb-4",attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){e.errors;var s=e.classes;return[a("label",{attrs:{for:"validationCustom04"}},[t._v("地址")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.orderData.user.address,expression:"orderData.user.address"}],staticClass:"form-control",class:s,attrs:{type:"text",id:"validationCustom04",placeholder:" 請輸入地址",required:""},domProps:{value:t.orderData.user.address},on:{input:function(e){e.target.composing||t.$set(t.orderData.user,"address",e.target.value)}}}),a("div",{staticClass:"invalid-feedback position-absolute"},[t._v("\n                  請輸入地址\n                ")])]}}],null,!0)})],1),a("div",{staticClass:"text-right my-2"},[a("button",{staticClass:"btn new-btn new-btn-order",attrs:{type:"submit",disabled:s}},[t._v("\n                下一步\n              ")])])])]}}])})],1)])]),a("Carticon",{attrs:{carts:t.cartsNumber}})],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"timeline timeline-color-50 position-relative mb-5"},[a("div",{staticClass:"timepoint position-relative timepoint-color"},[a("i",{staticClass:"far fa-sticky-note"})]),a("div",{staticClass:"timepoint position-relative timepoint-color"},[a("i",{staticClass:"fas fa-edit"})]),a("div",{staticClass:"timepoint position-relative"},[a("i",{staticClass:"fas fa-truck"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"line-name d-flex justify-content-between"},[a("p",{staticClass:"text-c1"},[t._v("確認購買")]),a("p",{staticClass:"text-c1"},[t._v("填寫資料")]),a("p",{staticClass:"text-c5"},[t._v("完成訂單")])])}],r=a("6c8e");(function(){window.addEventListener("load",(function(){var t=document.getElementsByClassName("needs-validation");Array.prototype.filter.call(t,(function(t){t.addEventListener("submit",(function(e){!1===t.checkValidity()&&(e.preventDefault(),e.stopPropagation()),t.classList.add("was-validated")}),!1)}))}),!1)})();var o={data:function(){return{isLoading:!1,cartsNumber:0,orderData:{user:{name:"",email:"",tel:"",address:"",paymethod:""},message:""}}},components:{Carticon:r["a"]},computed:{},methods:{getCarts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("chi","/cart"),a=this;a.isLoading=!0,setTimeout((function(){t.$http.get(e).then((function(e){t.cartsNumber=e.data.data.carts.length,a.isLoading=!1}))}),1500)},createOrder:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("chi","/order"),e=this;e.isLoading=!0,this.$http.post(t,{data:e.orderData}).then((function(t){e.$router.push({path:"/checkout3/".concat(t.data.orderId)}),e.isLoading=!1}))}},created:function(){this.getCarts()},mounted:function(){}},n=o,l=(a("28f4"),a("2877")),c=Object(l["a"])(n,s,i,!1,null,"62737d9f",null);e["default"]=c.exports},"28f4":function(t,e,a){"use strict";a("e2ff")},"6c8e":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"cart-icon position-fixed"},[a("p",{staticClass:"pointer h1 mb-4"},[a("i",{staticClass:"fas fa-arrow-circle-up hide",on:{click:function(e){return t.Top()}}})]),a("p",{staticClass:"pointer h5"},[a("router-link",{attrs:{to:{path:"/shoppingcart"}}},[a("i",{staticClass:"fas fa-shopping-cart text-c1 pl-1 position-relative shopping-cart"},[a("span",{staticClass:"position-absolute h8 circle text-light"},[t._v("\n            "+t._s(t.carts)+"\n          ")])])])],1)])])},i=[],r={data:function(){return{changebar:!1}},props:["carts"],components:{},methods:{Top:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},addhide:function(){var t=document.querySelector(".cart-icon"),e=document.querySelector(".fa-arrow-circle-up");window.pageYOffset>t.offsetTop/2?e.classList.remove("hide"):e.classList.add("hide")}},created:function(){},mounted:function(){window.addEventListener("scroll",this.addhide)},beforeDestroy:function(){window.removeEventListener("scroll",this.addhide)}},o=r,n=a("2877"),l=Object(n["a"])(o,s,i,!1,null,"edc8be46",null);e["a"]=l.exports},e2ff:function(t,e,a){}}]);
//# sourceMappingURL=chunk-617b4c02.78500b5a.js.map