(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54a7f198"],{"6c8e":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"cart-icon position-fixed"},[e("p",{staticClass:"pointer h1 mb-4"},[e("i",{staticClass:"fas fa-arrow-circle-up hide",on:{click:function(s){return t.Top()}}})]),e("p",{staticClass:"pointer h5"},[e("router-link",{attrs:{to:{path:"/shoppingcart"}}},[e("i",{staticClass:"fas fa-shopping-cart text-c1 pl-1 position-relative shopping-cart"},[e("span",{staticClass:"position-absolute h8 circle text-light"},[t._v("\n            "+t._s(t.carts)+"\n          ")])])])],1)])])},i=[],r={data:function(){return{changebar:!1}},props:["carts"],components:{},methods:{Top:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},addhide:function(){var t=document.querySelector(".cart-icon"),s=document.querySelector(".fa-arrow-circle-up");window.pageYOffset>t.offsetTop/2?s.classList.remove("hide"):s.classList.add("hide")}},created:function(){},mounted:function(){window.addEventListener("scroll",this.addhide)},beforeDestroy:function(){window.removeEventListener("scroll",this.addhide)}},n=r,c=e("2877"),o=Object(c["a"])(n,a,i,!1,null,"edc8be46",null);s["a"]=o.exports},"7d62":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}},[e("div",{staticClass:"loadingio-spinner-spin-5xz8vi7q1c2"},[e("div",{staticClass:"ldio-2zmxuno6hnw"},[e("div",[e("div")]),e("div",[e("div")]),e("div",[e("div")]),e("div",[e("div")]),e("div",[e("div")]),e("div",[e("div")]),e("div",[e("div")]),e("div",[e("div")])])])]),e("div",{staticClass:"container-100 container my-4"},[e("div",{staticClass:"row bg-product justify-content-center"},[e("nav",{staticClass:"col-12 mb-3",attrs:{"aria-label":"breadcrumb"}},[e("ol",{staticClass:"breadcrumb"},[e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{name:"Index"}}},[t._v("\n              Home\n            ")])],1),e("li",{staticClass:"breadcrumb-item"},[e("router-link",{attrs:{to:{path:"shoppingcart"}}},[t._v("\n              Shopping Cart\n            ")])],1),e("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v("Checkout")])])]),e("div",{staticClass:"col-md-10 container-75"},[t._m(0),t._m(1),e("div",{staticClass:"accordion",attrs:{id:"accordionExample"}}),e("div",{staticClass:"card pb-1"},[e("div",{staticClass:"card-header d-sm-flex justify-content-between py-1",attrs:{id:"headingOne"}},[t._m(2),e("h2",{staticClass:"mb-0 pl-3 pl-sm-0 d-flex align-items-center"},[e("p",{staticClass:"d-inline-block h7 mb-0 pr-3"},[t._v("應付金額")]),t._v("\n              "+t._s(t._f("currency")(t.Order.total||0))+"\n            ")])]),e("div",{staticClass:"collapse show",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-parent":"#accordionExample"}},[e("div",{staticClass:"shopping-table"},[e("table",{staticClass:"table"},[t._m(3),t._l(t.products,(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"table-img"},[e("img",{staticClass:"img-fluid",attrs:{src:s.product.imageUrl,alt:""}})]),e("td",[t._v(t._s(s.product.title))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.qty)+t._s(s.product.unit))]),e("td",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(s.total||0)))])])})),t._m(4),e("tr",[e("th",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("優惠折抵")]),e("th",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.couponsmoney||0)))])]),e("tr",[e("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("合計")]),e("th",{staticClass:"text-right"},[t._v(t._s(t._f("currency")(t.Order.total||0)))])])],2)])])]),e("div",{staticClass:"p-4 table-border mt-3 shopping-table"},[e("table",{staticClass:"table"},[e("tr",[e("th",[t._v("姓名")]),e("td",[t._v(t._s(t.Order.user.name))])]),e("tr",[e("th",[t._v("電話")]),e("td",[t._v(t._s(t.Order.user.tel))])]),e("tr",[e("th",[t._v("Email")]),e("td",[t._v(t._s(t.Order.user.email))])]),e("tr",[e("th",[t._v("地址")]),e("td",[t._v(t._s(t.Order.user.address))])]),e("tr",[e("th",[t._v("付款方式")]),e("td",[t._v(t._s(t.Order.user.paymethod))])]),e("tr",[e("th",[t._v("付款狀態")]),e("th",{directives:[{name:"show",rawName:"v-show",value:t.Order.is_paid,expression:"Order.is_paid"}],staticClass:"text-c1"},[t._v("完成付款")]),e("td",{directives:[{name:"show",rawName:"v-show",value:!t.Order.is_paid,expression:"!Order.is_paid"}],staticClass:"text-danger"},[t._v("尚未付款")])])])]),e("div",{staticClass:"text-right my-2"},[e("button",{directives:[{name:"show",rawName:"v-show",value:!t.Order.is_paid,expression:"!Order.is_paid"}],staticClass:"btn new-btn new-btn-order2",attrs:{type:"button"},on:{click:function(s){return t.pay()}}},[t._v("\n            確認付款\n          ")]),e("router-link",{attrs:{to:{name:"Index"}}},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.Order.is_paid,expression:"Order.is_paid"}],staticClass:"btn new-btn new-btn-index mr-2",attrs:{type:"button"}},[t._v("\n              回首頁\n            ")])]),e("router-link",{attrs:{to:{name:"Products"}}},[e("button",{directives:[{name:"show",rawName:"v-show",value:t.Order.is_paid,expression:"Order.is_paid"}],staticClass:"btn new-btn new-btn-buy",attrs:{type:"button"}},[t._v("\n              繼續購買\n            ")])])],1)])])]),e("Carticon",{attrs:{carts:t.cartsNumber}})],1)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"timeline timeline-color-100 position-relative mb-5"},[e("div",{staticClass:"timepoint position-relative timepoint-color"},[e("i",{staticClass:"far fa-sticky-note"})]),e("div",{staticClass:"timepoint position-relative timepoint-color"},[e("i",{staticClass:"fas fa-edit"})]),e("div",{staticClass:"timepoint position-relative timepoint-color"},[e("i",{staticClass:"fas fa-truck"})])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"line-name d-flex justify-content-between"},[e("p",{staticClass:"text-c1"},[t._v("確認購買")]),e("p",{staticClass:"text-c1"},[t._v("填寫資料")]),e("p",{staticClass:"text-c1"},[t._v("完成訂單")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("h2",{staticClass:"mb-0"},[e("button",{staticClass:"btn btn-link btn-block text-left",attrs:{type:"button","data-toggle":"collapse","data-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[t._v("\n                顯示訂單資訊"),e("i",{staticClass:"fas fa-angle-down ml-1 text-c1"})])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",[e("th",{staticClass:"text-center",attrs:{scope:"col",colspan:"2"}},[t._v("商品名稱")]),e("th",{staticClass:"text-center",attrs:{scope:"col",width:"150"}},[t._v("數量")]),e("th",{attrs:{scope:"col",width:"200"}},[t._v("小計")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("tr",[e("th",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("運費")]),e("th",{staticClass:"text-right"},[t._v("$0")])])}],r=(e("456d"),e("ac6a"),e("6c8e")),n={data:function(){return{isLoading:!1,cartsNumber:0,OrderId:"",Order:{user:{name:""}},products:[]}},components:{Carticon:r["a"]},computed:{couponsmoney:function(){var t=this.Order.total,s=0;return this.products.forEach((function(t){s+=t.total})),s-t}},methods:{getOrder:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("chi","/order/").concat(this.OrderId),s=this;s.isLoading=!0,this.$http.get(t).then((function(t){s.Order=t.data.order,s.isLoading=!1;var e=Object.keys(s.Order.products);e.forEach((function(t){s.products.push(s.Order.products[t])}))}))},pay:function(){var t="".concat("https://vue-course-api.hexschool.io","/api/").concat("chi","/pay/").concat(this.OrderId),s=this;s.isLoading=!0,this.$http.post(t).then((function(){s.Order.is_paid=!0,s.isLoading=!1,s.alertDisplay("付款成功","success")}))},alertDisplay:function(t,s){var e=t,a=s;this.$dlg.toast(e,{messageType:a,closeTime:2,position:"topCenter",language:"en"})}},created:function(){this.OrderId=this.$route.params.orderId,this.getOrder()},mounted:function(){}},c=n,o=e("2877"),d=Object(o["a"])(c,a,i,!1,null,"6923eabf",null);s["default"]=d.exports}}]);
//# sourceMappingURL=chunk-54a7f198.7803a521.js.map